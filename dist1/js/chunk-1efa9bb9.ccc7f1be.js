(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1efa9bb9"],{"0285":function(e,t,s){"use strict";var i=s("a082"),a=s.n(i);a.a},"0986":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"keywords-search-module"},[s("div",{staticClass:"module-container",staticStyle:{"padding-bottom":"1px"}},[s("div",{staticClass:"title"},[s("h2",[s("span",{staticClass:"pointer",style:{color:0!==e.colorStatus?e.theme:"#787878"},on:{click:e.goBack,mouseover:e.mouseOver,mouseleave:e.mouseLeave}},[e._v(" 病历搜索 > ")]),s("span",{style:{color:e.theme}},[e._v("关键词搜索")])]),s("span",{staticClass:"right full-screen-icon pointer",on:{click:e.goBack}},[s("svg-icon",{attrs:{"icon-class":"suoxiao"}})],1)]),s("div",{staticClass:"con-1 search-con"},[s("div",{staticStyle:{padding:"0px 25%","margin-bottom":"20px"}},[s("el-row",[s("el-col",{attrs:{span:22}},[s("el-input",{attrs:{placeholder:"输入您要搜索的内容",size:"medium"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.serachFn(t)}},model:{value:e.searchs,callback:function(t){e.searchs="string"===typeof t?t.trim():t},expression:"searchs"}})],1),s("el-col",{attrs:{span:2}},[s("el-button",{staticClass:"btn",attrs:{type:"primary",size:"medium"},nativeOn:{click:function(t){return e.serachFn(t)}}},[e._v(" 搜索 ")])],1)],1)],1),e.isShowMoule?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.searchInfoModel,expression:"searchInfoModel"}],staticClass:"search-info",attrs:{"element-loading-text":"数据加载中...","element-loading-spinner":"el-icon-loading"}},[s("el-collapse",{model:{value:e.activeNameIndex,callback:function(t){e.activeNameIndex=t},expression:"activeNameIndex"}},[s("el-collapse-item",{attrs:{name:"1"}},[s("template",{slot:"title"},[e._v("搜索说明")]),s("div",{staticClass:"condition-info"},[s("div",{staticClass:"search-pattern"},[s("span",{staticClass:"title"},[e._v("搜索模式：")]),s("el-radio-group",{on:{change:e.serachModel},model:{value:e.searchM,callback:function(t){e.searchM=t},expression:"searchM"}},[s("el-radio",{attrs:{label:0}},[e._v("归一搜索")]),s("el-radio",{attrs:{label:1}},[e._v("原始搜索")])],1)],1),e.unification?s("div",{staticClass:"search-fication"},[s("p",{staticStyle:{"padding-right":"13px"}},[s("span",{staticClass:"title"},[e._v("归一词：")])]),s("p",[s("el-checkbox-group",{on:{change:e.checkboxGroup},model:{value:e.unificationWords,callback:function(t){e.unificationWords=t},expression:"unificationWords"}},e._l(e.unificationLists,(function(t,i){return s("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t!==e.keyWordsSearch,expression:"item !== keyWordsSearch"}],key:i,attrs:{label:t}},[e._v(" "+e._s(t))])})),1)],1)]):e._e(),e.isShowS?s("div",{staticClass:"search-scope"},[s("span",{staticClass:"title"},[e._v("搜索范围：")]),s("span",[e._v("在“"+e._s(e.searchFData[1])+"”中查找")])]):e._e(),s("div",{staticClass:"info-icon pointer"},[s("span",{style:{color:e.theme},on:{click:function(t){e.dialogVisible=!0}}},[s("i",{staticClass:"el-icon-info"}),e._v("说明 ")])])])],2)],1)],1):e._e()])]),e.isShowMoule?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.searchInfoModel,expression:"searchInfoModel"}],staticClass:"keyword-search-result",attrs:{"element-loading-text":"数据加载中...","element-loading-spinner":"el-icon-loading"}},[s("div",{staticClass:"module-container"},[s("div",{staticClass:"title"},[s("h2",[e._v("搜索结果")]),s("div",{staticClass:"right"},[s("div",{staticClass:"inlineBlock"},[s("analyze-result")],1),s("div",{staticClass:"space inlineBlock"},[s("AddCollectObject",{attrs:{title:"收藏",keys:"collection",disabled:e.disOrNo}})],1),s("div",{staticClass:"inlineBlock"},[s("AddCollectObject",{attrs:{title:"添加至项目",disabled:""}})],1)])]),s("div",{staticClass:"con-2"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:6}},[s("search-condation-com",{attrs:{findRang:e.searchFData},on:{changeLoading:e.loadingM}})],1),s("el-col",{attrs:{span:18}},[s("search-lists-com",{directives:[{name:"loading",rawName:"v-loading",value:e.searchListsModel,expression:"searchListsModel"}],attrs:{"element-loading-text":"数据加载中...","element-loading-spinner":"el-icon-loading"},on:{changeLoading:e.loadingM}})],1)],1)],1)])]):e._e(),s("el-dialog",{attrs:{visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"归一搜索",name:"first"}},[s("div",{staticClass:"warps"},e._l(e.info1,(function(t,i){return s("div",{key:i,staticClass:"module-container",staticStyle:{padding:"0px"}},[s("div",{staticClass:"title"},[s("h2",[e._v(e._s(t.title))])]),s("div",{staticClass:"con",staticStyle:{margin:"10px 0px"}},[e._v(" "+e._s(t.msg)+" ")])])})),0)]),s("el-tab-pane",{attrs:{label:"原始搜索",name:"second"}},[s("div",{staticClass:"warps"},e._l(e.info2,(function(t,i){return s("div",{key:i,staticClass:"module-container",staticStyle:{padding:"0px"}},[s("div",{staticClass:"title"},[s("h2",[e._v(e._s(t.title))])]),s("div",{staticClass:"con",staticStyle:{margin:"10px 0px"}},[e._v(" "+e._s(t.msg)+" ")])])})),0)])],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])],1)},a=[],n=(s("96cf"),s("1da1")),o=s("5530"),c=s("2b1d"),l=s("2f62"),r=s("bd32"),d=s("ced0"),h=Object(l["a"])("caseSearch"),u=h.mapMutations,p=h.mapActions,f={name:"keywordsSearch",data:function(){return{searchInfoModel:!1,searchListsModel:!1,activeNameIndex:"1",colorStatus:0,isShowMoule:!1,searchs:"",searchM:"",unificationWords:[],unificationLists:[],unification:!1,searchFData:[],isShowS:!1,dialogVisible:!1,activeName:"first"}},watch:{dialogVisible:function(e){e||(this.activeName="first")}},computed:Object(o["a"])(Object(o["a"])({},Object(l["d"])(["theme","keyWordsSearch","keyWordSearchCon","keyWordListsId"])),{},{info1:function(){return d["gSearch"]},info2:function(){return d["ySearch"]},disOrNo:function(){var e;return!((null===(e=this.keyWordListsId)||void 0===e?void 0:e.length)>0)}}),components:{AnalyzeResult:r["b"],SearchCondationCom:r["d"],SearchListsCom:r["e"],AddCollectObject:c["a"]},created:function(){this.keyWordsSearch.length>0&&(this.searchs=this.keyWordsSearch,this.keyword(this.keyWordsSearch))},mounted:function(){this.searchs.length>0&&(this.searchInfoModel=!0,this.getSearchData(),this.getSearchListsData())},destroyed:function(){this.keywordsinput(""),this.keyword(""),this.source(""),this.synonymgroup([])},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},u(["keywordsinput","keyword","source","synonymgroup","pagenoarg","pagesizearg","keywordlists"])),p(["keyWordCondation","keyWordListsData"])),{},{mouseOver:function(){this.colorStatus=1},mouseLeave:function(){this.colorStatus=0},goBack:function(){this.$router.push("CaseSearchHome")},serachFn:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.searchs.length>0)){t.next=16;break}return e.searchInfoModel=!0,e.isShowMoule=!1,e.source(""),e.synonymgroup([]),t.next=7,e.$nextTick();case 7:e.isShowMoule=!0,e.pagenoarg(1),e.pagesizearg(10),e.keywordsinput(e.searchs),e.keyword(e.searchs),e.getSearchData(),e.getSearchListsData(),t.next=18;break;case 16:e.$message({message:"搜索关键字不能为空~",type:"warning"}),e.isShowMoule=!1;case 18:case"end":return t.stop()}}),t)})))()},handleClick:function(e,t){},getSearchData:function(){var e=this,t={keyword:this.searchs};this.keyWordCondation(t).then((function(t){t&&(e.isShowMoule=!0)})).catch((function(){}))},getSearchListsData:function(){var e=this,t=this.keyWordSearchCon;this.keyWordListsData(t).then((function(t){var s,i,a,n;(e.searchInfoModel=!1,e.searchListsModel=!1,console.log(t),t)&&(e.searchM=t.source,e.source(e.searchM),(null===(s=t.range)||void 0===s?void 0:s.length)>0?(e.isShowS=!0,e.searchFData=t.range):(e.isShowS=!1,e.searchFData=[]),0===t.source?((null===(i=t.synonymAll)||void 0===i?void 0:i.length)>0?e.unification=!0:e.unification=!1,e.unificationLists=(null===(a=t.synonymAll)||void 0===a?void 0:a.length)>0?t.synonymAll:[],e.unificationWords=(null===(n=t.synonymGroup)||void 0===n?void 0:n.length)>0?t.synonymGroup:[],e.synonymgroup(t.synonymGroup)):(e.unification=!1,e.unificationLists=[],e.unificationWords=[],e.synonymgroup([])))})).catch((function(){e.searchInfoModel=!1,e.searchListsModel=!1}))},serachModel:function(e){this.searchListsModel=!0,0===e?this.unification=!0:(this.synonymgroup([]),this.unification=!1),this.source(e),this.pagenoarg(1),this.pagesizearg(10),this.getSearchListsData()},checkboxGroup:function(){this.searchListsModel=!0,this.synonymgroup(this.unificationWords),this.getSearchListsData()},loadingM:function(e){this.searchListsModel=e}})},m=f,g=(s("0285"),s("484a"),s("2877")),v=Object(g["a"])(m,i,a,!1,null,"718911f0",null);t["default"]=v.exports},"2b1d":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-popover",{ref:"messageDrop",attrs:{placement:"bottom",trigger:"click"}},[s("el-button",{attrs:{slot:"reference",disabled:e.disabled,size:"medium"},slot:"reference"},[e._v(e._s(e.title)),s("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),s("div",{staticClass:"popover-checkbox"},[s("el-input",{attrs:{size:"small",placeholder:"请输入内容","prefix-icon":"el-icon-search"},on:{input:e.conditionFilter},model:{value:e.input2,callback:function(t){e.input2=t},expression:"input2"}}),s("el-checkbox-group",{staticClass:"block",staticStyle:{height:"150px"},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[s("el-scrollbar",{ref:"scroll",staticStyle:{height:"100%"}},e._l(e.checkChild,(function(t,i){return s("el-checkbox",{key:i,attrs:{label:t.id}},[e._v(" "+e._s(t.categoryName)+" ")])})),1)],1),s("div",{staticClass:"popover-button"},[s("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.confirmBtn(t)}}},[e._v("确认")]),s("el-button",{attrs:{size:"small",type:"primary",plain:""},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v("取消")])],1)],1)],1)},a=[],n=(s("4de4"),s("d81d"),s("d3b7"),s("ac1f"),s("25f0"),s("466d"),s("841c"),s("ddb0"),s("5530")),o=s("2f62"),c=s("b775");function l(){return Object(c["a"])({url:"/crp-collection/collectionCategory/v1/listAll",method:"GET",params:{categoryName:"",categoryType:1}})}function r(e){return Object(c["a"])({url:"/crp-collection/personCollection/v1/add",method:"POST",data:e})}var d=s("a318"),h={props:{title:{type:String,default:""},disabled:{type:Boolean,default:!1},keys:{type:String,default:""}},data:function(){return{input2:"",checkList:[],checkListDatas:[],checkChild:[]}},computed:Object(n["a"])({},Object(o["d"])(["userInfo","keyWordListsId"])),watch:{},created:function(){},mounted:function(){switch(this.keys){case"collection":this.getListAll();break;case"":break}},methods:Object(n["a"])(Object(n["a"])({},Object(o["e"])(["caseSearch/keywordlists"])),{},{cancel:function(){this.$refs.messageDrop.doClose(),this.checkList=[]},confirmBtn:function(){if(this.checkList.length>0)switch(this.keys){case"collection":this.postCollectCommit();break;case"":break}else this.$message({message:"请先勾选收藏分类~",type:"warning"})},getListAll:function(){var e=this;l().then((function(t){(null===t||void 0===t?void 0:t.obj)&&(e.checkListDatas=t.obj,e.checkChild=t.obj)})).catch((function(e){}))},postCollectCommit:function(){var e,t,s=this,i={personIds:this.keyWordListsId.toString()||"",categoryIds:this.checkList.toString()||"",userId:null!==(e=null===(t=this.userInfo)||void 0===t?void 0:t.pkId)&&void 0!==e?e:null};r(i).then((function(e){s.$refs.messageDrop.doClose(),s.checkList=[],s.$message({message:"收藏成功！",type:"success"})})).catch((function(e){}))},conditionFilter:function(){var e=this,t=this.checkListDatas,s=t.map((function(t){var s=-1!==t.categoryName.search(e.input2)||d.default.match(t.categoryName,e.input2);if(s)return t})).filter((function(e){return e}));this.checkChild=s}}),destroyed:function(){this["caseSearch/keywordlists"]([])}},u=h,p=s("2877"),f=Object(p["a"])(u,i,a,!1,null,"0c2551a8",null);t["a"]=f.exports},"41e6":function(e,t,s){},"484a":function(e,t,s){"use strict";var i=s("41e6"),a=s.n(i);a.a},a082:function(e,t,s){},ced0:function(e,t){e.exports={gSearch:[{title:"原始搜索",msg:"平台首先会自动识别关键词的类别，如果您输入的关键词属于“疾病名称、检查名称、药品名称、检验名称、手术名称”这5个类别，会默认为您提供“归一模式”"},{title:"搜索范围",msg:"归一模式下，默认在归一字段中搜索，比如输入“肺癌”，会默认在归一后的“诊断名称”中搜索。归一模式下的“全部”的含义：全部原始病历文本（如入出院记录、病程记录等）和全部5类归一字段。"},{title:"相关归一词",msg:"展示所有归一词并默认全选，可根据实际需求清空或勾选部分归一词。平台使用搜索词和勾选的归一词同时搜索。"},{title:"高频原始词",msg:"由于部分结果是归一字段中召回，因此在归一模式下，会将搜索结果中，该字段对应的原始写法，按频次进行排序，默认展示前20条。"}],ySearch:[{title:"原始搜索",msg:"如您不需要系统提供的归一功能，可以点击“原始搜索”进行切换。"},{title:"搜索范围",msg:'“原始搜索”模式下，默认在对应的原始字段中搜索，比如输入的搜索词为“肺恶性肿瘤”，会默认在原始数据的“诊断名称”中搜索。"原始搜索"下的“全部”含义：全部原始病历文本（如入出院记录、病程记录等）。'},{title:"搜索方式",msg:"“精确等于搜索词”的含义：若您输入的搜索词为“肺癌”，只得到“肺癌”的病历；"}]}}}]);
//# sourceMappingURL=chunk-1efa9bb9.ccc7f1be.js.map